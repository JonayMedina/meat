{% extends "/admin/base.html.twig" %}
{% import "admin/_macros.html.twig" as UI %}

{% block title %}{{ 'app.ui.new_push'|trans }}{% endblock %}

{% block content %}
    <div class="col-lg-12">

        <div class="row wrapper page-heading">
            <div class="col-sm-12">
                {{ UI.back(path('push_index'), 'app.ui.back_to_push') }}
                <br>
                <h1>{{ 'app.ui.new_push'|trans }}</h1>
            </div>
        </div>

        <div class="row">
            <div class="col-lg-12">
                <div class="ibox">
                    <div class="ibox-content padding-55">
                        {{ include('/admin/push/_form.html.twig') }}
                    </div>
                </div>
            </div>
        </div>

    </div>
{% endblock %}


{% block javascript %}
{{ parent() }}
<script>
    $(document).ready(function () {
        var $promotionTypePushDiv = $('#promotion-type-push');

        $('input[type=radio][name="push_notification[type]"]').change(function() {
            var value = $('input[name="push_notification[type]"]:checked').val();

            if (value === '{{ constant('App\\Entity\\PushNotification::TYPE_PROMOTION') }}') {
                $promotionTypePushDiv.slideDown('fast');
            }

            if (value === '{{ constant('App\\Entity\\PushNotification::TYPE_INFO') }}') {
                $promotionTypePushDiv.slideUp('fast');
            }

        }).change();
    });
</script>
{% endblock %}
